代码优化
1. 策略模式
2. 状态模式
3. 表驱动

从代码优化讲起，主要讲的是多个 if 语句的优化。
先看一段代码 `strategy.js文件`
在当前程序中找到类似可优化代码
这就是策略模式。
一个策略模式由两部分组成：
1. 对应关系
   ```
    let strategy = {
        'ADD': function (x, y) {
            return x + y
        },
        'SUB': function (x, y) {
            return x - y
        }
    }
    ```
2. 一个接收参数并分配到相应的对应关系的函数
    ```
    function calc3(op, x, y) {
        return strategy[op](x, y)
    }
    ```

策略模式可以用来优化多个 if 语句，它的好处在于提供了对“开闭原则”的完美支持，用户可以在不修改原有系统的基础上选择算法或行为，也可以灵活地增加新的算法或行为。
> 开闭原则：即开放-封闭原则，面向扩展开放，面向修改封闭。

和策略模式有点像的是状态模式，两者都可以用来做多分支的优化。不同的是状态模式是根据状态来确定分支，而策略模式是用户自主选择分支。
策略模式中的各个策略之间可以没有任何关系，用户在使用的时候需要知道不同的策略对应的处理方式来自行选择策略。
而状态模式是开发者实现封装好不同的状态对应的不同的行为，用户不需要知道内部是如何切换的。
拿这个加法来说，策略模式的话是点击按钮A做加法，点击按钮B做减法，而如果是状态模式，只会对用户暴露一个按钮，点击第一次做加法，点击第二次做减法。

表驱动是另一种if else优化的方法
1. 直接访问
2. 索引访问
3. 阶梯访问

一个经典的表驱动的例子是输入月份得到该月有几天，if else 和 表驱动分别是什么样子。
我们目前的程序中经常可以用到的是索引访问，后端返回的字符串对应的中文名称是什么。这样做的好处一个是有效避免更多的if语句，二个是如果这段对应关系在很多地方都会用到的话，可以一次申明多处使用，在添加了新的字段或者修改了原有的字段的时候修改起来会很方便。


表驱动中不仅可以存字符串数字等数据，同样可以存储函数等动作，表驱动中的索引访问，如果后面存储的是函数，那么其实很容易联想到前面讲到的策略模式。